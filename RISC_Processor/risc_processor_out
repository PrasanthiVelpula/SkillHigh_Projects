#! /c/iverilog/bin/vvp
:ivl_version "0.9.7 " "(v0_9_7)";
:vpi_time_precision + 0;
:vpi_module "system";
:vpi_module "v2005_math";
:vpi_module "va_math";
S_012B1B48 .scope module, "risc_processor_tb" "risc_processor_tb" 2 1;
 .timescale 0 0;
v012C0FB0_0 .array/port v012C0FB0, 0;
v012F1CE8_0 .net "R0", 3 0, v012C0FB0_0; 1 drivers
v012C0FB0_1 .array/port v012C0FB0, 1;
v012F11E8_0 .net "R1", 3 0, v012C0FB0_1; 1 drivers
v012C0FB0_2 .array/port v012C0FB0, 2;
v012F1818_0 .net "R2", 3 0, v012C0FB0_2; 1 drivers
v012C0FB0_3 .array/port v012C0FB0, 3;
v012F15B0_0 .net "R3", 3 0, v012C0FB0_3; 1 drivers
v012F1A28_0 .net "alu_result", 3 0, v0128BAD0_0; 1 drivers
v012F12F0_0 .var "clk", 0 0;
v012F1870_0 .net "ins_out", 7 0, L_012F2348; 1 drivers
S_012B1CE0 .scope module, "uut" "CPU" 2 6, 3 2, S_012B1B48;
 .timescale 0 0;
L_012F2348 .functor BUFZ 8, v012C0CF0_0, C4<00000000>, C4<00000000>, C4<00000000>;
v012C0C40_0 .alias "R0", 3 0, v012F1CE8_0;
v012C0DA0_0 .alias "R1", 3 0, v012F11E8_0;
v012C0D48_0 .alias "R2", 3 0, v012F1818_0;
v012F1D98_0 .alias "R3", 3 0, v012F15B0_0;
v012F1FA8_0 .net *"_s0", 3 0, C4<0000>; 1 drivers
v012F1D40_0 .alias "alu_result", 3 0, v012F1A28_0;
v012F1F50_0 .net "clk", 0 0, v012F12F0_0; 1 drivers
v012F1B30_0 .alias "ins_out", 7 0, v012F1870_0;
v012F1B88_0 .net "instruction", 7 0, v012C0CF0_0; 1 drivers
v012F1C90_0 .net "opcode", 3 0, L_012F1558; 1 drivers
v012F1E48_0 .var "pc", 3 0;
v012F1BE0_0 .net "rd", 1 0, L_012F13A0; 1 drivers
v012F1EF8_0 .net "rd_data", 3 0, L_012F2540; 1 drivers
v012F1EA0_0 .net "rs", 1 0, L_012F17C0; 1 drivers
v012F1DF0_0 .net "rs_data", 3 0, L_012F23F0; 1 drivers
v012F1C38_0 .net "write_enable", 0 0, L_012F1768; 1 drivers
L_012F1768 .cmp/ne 4, L_012F1558, C4<0000>;
S_012B2120 .scope module, "mem" "Memory" 3 16, 3 40, S_012B1CE0;
 .timescale 0 0;
v012C0B38_0 .net "address", 3 0, v012F1E48_0; 1 drivers
v012C0CF0_0 .var "instruction", 7 0;
v012C0EA8 .array "mem", 15 0, 7 0;
v012C0EA8_0 .array/port v012C0EA8, 0;
v012C0EA8_1 .array/port v012C0EA8, 1;
v012C0EA8_2 .array/port v012C0EA8, 2;
E_012B42B0/0 .event edge, v012C0B38_0, v012C0EA8_0, v012C0EA8_1, v012C0EA8_2;
v012C0EA8_3 .array/port v012C0EA8, 3;
v012C0EA8_4 .array/port v012C0EA8, 4;
v012C0EA8_5 .array/port v012C0EA8, 5;
v012C0EA8_6 .array/port v012C0EA8, 6;
E_012B42B0/1 .event edge, v012C0EA8_3, v012C0EA8_4, v012C0EA8_5, v012C0EA8_6;
v012C0EA8_7 .array/port v012C0EA8, 7;
v012C0EA8_8 .array/port v012C0EA8, 8;
v012C0EA8_9 .array/port v012C0EA8, 9;
v012C0EA8_10 .array/port v012C0EA8, 10;
E_012B42B0/2 .event edge, v012C0EA8_7, v012C0EA8_8, v012C0EA8_9, v012C0EA8_10;
v012C0EA8_11 .array/port v012C0EA8, 11;
v012C0EA8_12 .array/port v012C0EA8, 12;
v012C0EA8_13 .array/port v012C0EA8, 13;
v012C0EA8_14 .array/port v012C0EA8, 14;
E_012B42B0/3 .event edge, v012C0EA8_11, v012C0EA8_12, v012C0EA8_13, v012C0EA8_14;
v012C0EA8_15 .array/port v012C0EA8, 15;
E_012B42B0/4 .event edge, v012C0EA8_15;
E_012B42B0 .event/or E_012B42B0/0, E_012B42B0/1, E_012B42B0/2, E_012B42B0/3, E_012B42B0/4;
S_012B1BD0 .scope module, "cu" "ControlUnit" 3 17, 3 29, S_012B1CE0;
 .timescale 0 0;
v012C0AE0_0 .alias "instruction", 7 0, v012F1B88_0;
v012C0C98_0 .alias "opcode", 3 0, v012F1C90_0;
v012C0DF8_0 .alias "rd", 1 0, v012F1BE0_0;
v012C0A88_0 .alias "rs", 1 0, v012F1EA0_0;
L_012F1558 .part v012C0CF0_0, 4, 4;
L_012F13A0 .part v012C0CF0_0, 2, 2;
L_012F17C0 .part v012C0CF0_0, 0, 2;
S_012B2918 .scope module, "RF" "RegisterFile" 3 18, 3 63, S_012B1CE0;
 .timescale 0 0;
L_012F2540 .functor BUFZ 4, L_012F1030, C4<0000>, C4<0000>, C4<0000>;
L_012F23F0 .functor BUFZ 4, L_012F1710, C4<0000>, C4<0000>, C4<0000>;
v012C5C00_0 .alias "R0", 3 0, v012F1CE8_0;
v012C5C58_0 .alias "R1", 3 0, v012F11E8_0;
v012C0F00_0 .alias "R2", 3 0, v012F1818_0;
v012C1008_0 .alias "R3", 3 0, v012F15B0_0;
v012C1060_0 .net *"_s0", 3 0, L_012F1030; 1 drivers
v012C0F58_0 .net *"_s4", 3 0, L_012F1710; 1 drivers
v012C0E50_0 .alias "clk", 0 0, v012F1F50_0;
v012C11C0_0 .alias "rd_addr", 1 0, v012F1BE0_0;
v012C0BE8_0 .alias "rd_data", 3 0, v012F1EF8_0;
v012C0FB0 .array "regfile", 0 3, 3 0;
v012C0B90_0 .alias "rs_addr", 1 0, v012F1EA0_0;
v012C10B8_0 .alias "rs_data", 3 0, v012F1DF0_0;
v012C1110_0 .alias "write_data", 3 0, v012F1A28_0;
v012C1168_0 .alias "write_enable", 0 0, v012F1C38_0;
E_012B3E50 .event posedge, v012C0E50_0;
L_012F1030 .array/port v012C0FB0, L_012F13A0;
L_012F1710 .array/port v012C0FB0, L_012F17C0;
S_012B2098 .scope module, "alu" "ALU" 3 19, 3 94, S_012B1CE0;
 .timescale 0 0;
v0128BA20_0 .alias "a", 3 0, v012F1EF8_0;
v012B6138_0 .alias "b", 3 0, v012F1DF0_0;
v0128BA78_0 .alias "opcode", 3 0, v012F1C90_0;
v0128BAD0_0 .var "result", 3 0;
E_012B3DD0 .event edge, v0128BA78_0, v0128BA20_0, v012B6138_0;
    .scope S_012B2120;
T_0 ;
    %wait E_012B42B0;
    %ix/getv 3, v012C0B38_0;
    %load/av 8, v012C0EA8, 8;
    %set/v v012C0CF0_0, 8, 8;
    %jmp T_0;
    .thread T_0, $push;
    .scope S_012B2120;
T_1 ;
   %ix/load 1, 0, 0;
   %ix/load 3, 0, 0;
   %set/av v012C0EA8, 0, 8;
    %movi 8, 61, 8;
   %ix/load 1, 0, 0;
   %ix/load 3, 1, 0;
   %set/av v012C0EA8, 8, 8;
    %movi 8, 40, 8;
   %ix/load 1, 0, 0;
   %ix/load 3, 2, 0;
   %set/av v012C0EA8, 8, 8;
    %movi 8, 25, 8;
   %ix/load 1, 0, 0;
   %ix/load 3, 3, 0;
   %set/av v012C0EA8, 8, 8;
    %movi 8, 77, 8;
   %ix/load 1, 0, 0;
   %ix/load 3, 4, 0;
   %set/av v012C0EA8, 8, 8;
    %movi 8, 84, 8;
   %ix/load 1, 0, 0;
   %ix/load 3, 5, 0;
   %set/av v012C0EA8, 8, 8;
    %movi 8, 101, 8;
   %ix/load 1, 0, 0;
   %ix/load 3, 6, 0;
   %set/av v012C0EA8, 8, 8;
    %movi 8, 4, 8;
   %ix/load 1, 0, 0;
   %ix/load 3, 7, 0;
   %set/av v012C0EA8, 8, 8;
    %end;
    .thread T_1;
    .scope S_012B2918;
T_2 ;
    %wait E_012B3E50;
    %load/v 8, v012C1168_0, 1;
    %jmp/0xz  T_2.0, 8;
    %load/v 8, v012C1110_0, 4;
    %ix/getv 3, v012C11C0_0;
    %jmp/1 t_0, 4;
    %ix/load 0, 4, 0; word width
    %ix/load 1, 0, 0; part off
    %assign/av v012C0FB0, 0, 8;
t_0 ;
T_2.0 ;
    %jmp T_2;
    .thread T_2;
    .scope S_012B2918;
T_3 ;
    %movi 8, 2, 4;
   %ix/load 1, 0, 0;
   %ix/load 3, 0, 0;
   %set/av v012C0FB0, 8, 4;
    %movi 8, 8, 4;
   %ix/load 1, 0, 0;
   %ix/load 3, 1, 0;
   %set/av v012C0FB0, 8, 4;
   %ix/load 1, 0, 0;
   %ix/load 3, 2, 0;
   %set/av v012C0FB0, 0, 4;
    %movi 8, 1, 4;
   %ix/load 1, 0, 0;
   %ix/load 3, 3, 0;
   %set/av v012C0FB0, 8, 4;
    %end;
    .thread T_3;
    .scope S_012B2098;
T_4 ;
    %wait E_012B3DD0;
    %load/v 8, v0128BA78_0, 4;
    %cmpi/u 8, 1, 4;
    %jmp/1 T_4.0, 6;
    %cmpi/u 8, 2, 4;
    %jmp/1 T_4.1, 6;
    %cmpi/u 8, 3, 4;
    %jmp/1 T_4.2, 6;
    %cmpi/u 8, 4, 4;
    %jmp/1 T_4.3, 6;
    %cmpi/u 8, 5, 4;
    %jmp/1 T_4.4, 6;
    %cmpi/u 8, 6, 4;
    %jmp/1 T_4.5, 6;
    %set/v v0128BAD0_0, 0, 4;
    %jmp T_4.7;
T_4.0 ;
    %load/v 8, v0128BA20_0, 4;
    %load/v 12, v012B6138_0, 4;
    %add 8, 12, 4;
    %set/v v0128BAD0_0, 8, 4;
    %jmp T_4.7;
T_4.1 ;
    %load/v 8, v012B6138_0, 4;
    %set/v v0128BAD0_0, 8, 4;
    %jmp T_4.7;
T_4.2 ;
    %load/v 8, v0128BA20_0, 4;
    %load/v 12, v012B6138_0, 4;
    %sub 8, 12, 4;
    %set/v v0128BAD0_0, 8, 4;
    %jmp T_4.7;
T_4.3 ;
    %load/v 8, v0128BA20_0, 4;
    %load/v 12, v012B6138_0, 4;
    %and 8, 12, 4;
    %set/v v0128BAD0_0, 8, 4;
    %jmp T_4.7;
T_4.4 ;
    %load/v 8, v0128BA20_0, 4;
    %load/v 12, v012B6138_0, 4;
    %or 8, 12, 4;
    %set/v v0128BAD0_0, 8, 4;
    %jmp T_4.7;
T_4.5 ;
    %load/v 8, v0128BA20_0, 4;
    %load/v 12, v012B6138_0, 4;
    %xor 8, 12, 4;
    %set/v v0128BAD0_0, 8, 4;
    %jmp T_4.7;
T_4.7 ;
    %jmp T_4;
    .thread T_4, $push;
    .scope S_012B1CE0;
T_5 ;
    %set/v v012F1E48_0, 0, 4;
    %end;
    .thread T_5;
    .scope S_012B1CE0;
T_6 ;
    %wait E_012B3E50;
    %load/v 8, v012F1E48_0, 4;
    %mov 12, 0, 28;
    %addi 8, 1, 32;
    %ix/load 0, 4, 0;
    %assign/v0 v012F1E48_0, 0, 8;
    %jmp T_6;
    .thread T_6;
    .scope S_012B1B48;
T_7 ;
    %set/v v012F12F0_0, 0, 1;
    %end;
    .thread T_7;
    .scope S_012B1B48;
T_8 ;
    %vpi_call 2 9 "$dumpfile", "risc_processor.vcd";
    %vpi_call 2 10 "$dumpvars", 1'sb0, S_012B1B48;
    %end;
    .thread T_8;
    .scope S_012B1B48;
T_9 ;
    %delay 5, 0;
    %load/v 8, v012F12F0_0, 1;
    %inv 8, 1;
    %set/v v012F12F0_0, 8, 1;
    %jmp T_9;
    .thread T_9;
    .scope S_012B1B48;
T_10 ;
    %vpi_call 2 16 "$display", "Time | INS      | ALU | R0 R1 R2 R3";
    %vpi_call 2 17 "$monitor", "%4t | %b | %2d  | %2d %2d %2d %2d", $time, v012F1870_0, v012F1A28_0, v012F1CE8_0, v012F11E8_0, v012F1818_0, v012F15B0_0;
    %delay 100, 0;
    %vpi_call 2 18 "$finish";
    %end;
    .thread T_10;
# The file index is used to find the file name in the following table.
:file_names 4;
    "N/A";
    "<interactive>";
    ".\risc_processor_tb.v";
    ".\risc_processor.v";
