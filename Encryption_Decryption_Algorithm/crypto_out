#! /c/iverilog/bin/vvp
:ivl_version "0.9.7 " "(v0_9_7)";
:vpi_time_precision + 0;
:vpi_module "system";
:vpi_module "v2005_math";
:vpi_module "va_math";
S_011E9220 .scope module, "crypto_tb" "crypto_tb" 2 1;
 .timescale 0 0;
v012208F8_0 .var "clk", 0 0;
v01220740_0 .net "decrypted_data", 7 0, L_01253E98; 1 drivers
v01220B08_0 .var "enable", 0 0;
v01220320_0 .net "encrypted_data", 7 0, L_012542C0; 1 drivers
v012201C0_0 .var "plain_data", 7 0;
v01220530_0 .var "rst", 0 0;
S_011E92A8 .scope module, "uut" "crypto" 2 6, 3 2, S_011E9220;
 .timescale 0 0;
v01220270_0 .net "clk", 0 0, v012208F8_0; 1 drivers
v01220378_0 .alias "decrypted_data", 7 0, v01220740_0;
v012204D8_0 .net "enable", 0 0, v01220B08_0; 1 drivers
v01220168_0 .alias "encrypted_data", 7 0, v01220320_0;
v01220110_0 .net "key", 7 0, v01220BB8_0; 1 drivers
v01220A58_0 .net "plain_data", 7 0, v012201C0_0; 1 drivers
v01220798_0 .net "rst", 0 0, v01220530_0; 1 drivers
S_011E8A28 .scope module, "Keygeneration" "LFSR" 3 9, 3 15, S_011E92A8;
 .timescale 0 0;
v012202C8_0 .alias "clk", 0 0, v01220270_0;
v01220B60_0 .alias "enable", 0 0, v012204D8_0;
v01220BB8_0 .var "keystream", 7 0;
v01220A00_0 .var "lfsr", 7 0;
v012206E8_0 .alias "rst", 0 0, v01220798_0;
E_012132B0 .event edge, v01220A00_0;
E_012132F0 .event posedge, v012206E8_0, v012202C8_0;
S_011E8CD0 .scope module, "enc" "encrypt" 3 10, 3 67, S_011E92A8;
 .timescale 0 0;
L_01253F40 .functor XOR 8, v012201C0_0, v01220BB8_0, C4<00000000>, C4<00000000>;
L_012542C0 .functor BUFZ 8, L_012205E0, C4<00000000>, C4<00000000>, C4<00000000>;
v0121FD20_0 .net *"_s3", 6 0, L_01220218; 1 drivers
v0121FD78_0 .net *"_s5", 0 0, L_012207F0; 1 drivers
v0121FE28_0 .alias "d_in", 7 0, v01220A58_0;
v0121FE80_0 .alias "d_out", 7 0, v01220320_0;
v0121FED8_0 .alias "key", 7 0, v01220110_0;
v01220480_0 .net "rot_out", 7 0, L_01220588; 1 drivers
v01220AB0_0 .net "sbox_out", 7 0, L_012205E0; 1 drivers
v012209A8_0 .net "xor_out", 7 0, L_01253F40; 1 drivers
L_01220218 .part L_01253F40, 0, 7;
L_012207F0 .part L_01253F40, 7, 1;
L_01220588 .concat [ 1 7 0 0], L_012207F0, L_01220218;
S_011E7F00 .scope module, "SBOX" "sbox_encrypt" 3 75, 3 33, S_011E8CD0;
 .timescale 0 0;
v0121FB68_0 .net *"_s1", 3 0, L_012203D0; 1 drivers
v0121FBC0_0 .net *"_s3", 3 0, L_01220950; 1 drivers
v0121FA60_0 .net *"_s5", 3 0, L_01220428; 1 drivers
v0121FDD0_0 .net *"_s7", 3 0, L_01220848; 1 drivers
v0121FC18_0 .alias "d_in", 7 0, v01220480_0;
v0121FAB8_0 .alias "d_out", 7 0, v01220AB0_0;
L_012203D0 .part L_01220588, 4, 4;
L_01220950 .ufunc TD_crypto_tb.uut.enc.SBOX.sbox, 4, L_012203D0 (v0121FF30_0) v0121F900_0 S_011E82B8;
L_01220428 .part L_01220588, 0, 4;
L_01220848 .ufunc TD_crypto_tb.uut.enc.SBOX.sbox, 4, L_01220428 (v0121FF30_0) v0121F900_0 S_011E82B8;
L_012205E0 .concat [ 4 4 0 0], L_01220848, L_01220950;
S_011E82B8 .scope function, "sbox" "sbox" 3 36, 3 36, S_011E7F00;
 .timescale 0 0;
v0121FF30_0 .var "nibble", 3 0;
v0121F900_0 .var "sbox", 3 0;
TD_crypto_tb.uut.enc.SBOX.sbox ;
    %load/v 8, v0121FF30_0, 4;
    %cmpi/u 8, 0, 4;
    %jmp/1 T_0.0, 6;
    %cmpi/u 8, 1, 4;
    %jmp/1 T_0.1, 6;
    %cmpi/u 8, 2, 4;
    %jmp/1 T_0.2, 6;
    %cmpi/u 8, 3, 4;
    %jmp/1 T_0.3, 6;
    %cmpi/u 8, 4, 4;
    %jmp/1 T_0.4, 6;
    %cmpi/u 8, 5, 4;
    %jmp/1 T_0.5, 6;
    %cmpi/u 8, 6, 4;
    %jmp/1 T_0.6, 6;
    %cmpi/u 8, 7, 4;
    %jmp/1 T_0.7, 6;
    %cmpi/u 8, 8, 4;
    %jmp/1 T_0.8, 6;
    %cmpi/u 8, 9, 4;
    %jmp/1 T_0.9, 6;
    %cmpi/u 8, 10, 4;
    %jmp/1 T_0.10, 6;
    %cmpi/u 8, 11, 4;
    %jmp/1 T_0.11, 6;
    %cmpi/u 8, 12, 4;
    %jmp/1 T_0.12, 6;
    %cmpi/u 8, 13, 4;
    %jmp/1 T_0.13, 6;
    %cmpi/u 8, 14, 4;
    %jmp/1 T_0.14, 6;
    %cmpi/u 8, 15, 4;
    %jmp/1 T_0.15, 6;
    %set/v v0121F900_0, 0, 4;
    %jmp T_0.17;
T_0.0 ;
    %movi 8, 6, 4;
    %set/v v0121F900_0, 8, 4;
    %jmp T_0.17;
T_0.1 ;
    %movi 8, 4, 4;
    %set/v v0121F900_0, 8, 4;
    %jmp T_0.17;
T_0.2 ;
    %movi 8, 12, 4;
    %set/v v0121F900_0, 8, 4;
    %jmp T_0.17;
T_0.3 ;
    %movi 8, 5, 4;
    %set/v v0121F900_0, 8, 4;
    %jmp T_0.17;
T_0.4 ;
    %set/v v0121F900_0, 0, 4;
    %jmp T_0.17;
T_0.5 ;
    %movi 8, 7, 4;
    %set/v v0121F900_0, 8, 4;
    %jmp T_0.17;
T_0.6 ;
    %movi 8, 2, 4;
    %set/v v0121F900_0, 8, 4;
    %jmp T_0.17;
T_0.7 ;
    %movi 8, 14, 4;
    %set/v v0121F900_0, 8, 4;
    %jmp T_0.17;
T_0.8 ;
    %movi 8, 1, 4;
    %set/v v0121F900_0, 8, 4;
    %jmp T_0.17;
T_0.9 ;
    %set/v v0121F900_0, 1, 4;
    %jmp T_0.17;
T_0.10 ;
    %movi 8, 3, 4;
    %set/v v0121F900_0, 8, 4;
    %jmp T_0.17;
T_0.11 ;
    %movi 8, 13, 4;
    %set/v v0121F900_0, 8, 4;
    %jmp T_0.17;
T_0.12 ;
    %movi 8, 8, 4;
    %set/v v0121F900_0, 8, 4;
    %jmp T_0.17;
T_0.13 ;
    %movi 8, 10, 4;
    %set/v v0121F900_0, 8, 4;
    %jmp T_0.17;
T_0.14 ;
    %movi 8, 9, 4;
    %set/v v0121F900_0, 8, 4;
    %jmp T_0.17;
T_0.15 ;
    %movi 8, 11, 4;
    %set/v v0121F900_0, 8, 4;
    %jmp T_0.17;
T_0.17 ;
    %end;
S_011E9440 .scope module, "dec" "decrypt" 3 11, 3 80, S_011E92A8;
 .timescale 0 0;
L_01253E98 .functor XOR 8, L_01220C10, v01220BB8_0, C4<00000000>, C4<00000000>;
v0121FC70_0 .net *"_s1", 0 0, L_01221030; 1 drivers
v0121FF88_0 .net *"_s3", 6 0, L_01221088; 1 drivers
v0121FB10_0 .alias "d_in", 7 0, v01220320_0;
v0121F9B0_0 .alias "d_out", 7 0, v01220740_0;
v0121FCC8_0 .net "invsbox_out", 7 0, L_01220C68; 1 drivers
v0121FA08_0 .alias "key", 7 0, v01220110_0;
v01220038_0 .net "rot_out", 7 0, L_01220C10; 1 drivers
L_01221030 .part L_01220C68, 0, 1;
L_01221088 .part L_01220C68, 1, 7;
L_01220C10 .concat [ 7 1 0 0], L_01221088, L_01221030;
S_011E94C8 .scope module, "INV" "sbox_decrypt" 3 86, 3 50, S_011E9440;
 .timescale 0 0;
v01215D40_0 .net *"_s1", 3 0, L_01220638; 1 drivers
v011E4FE0_0 .net *"_s3", 3 0, L_01220690; 1 drivers
v011E5038_0 .net *"_s5", 3 0, L_012208A0; 1 drivers
v011E5090_0 .net *"_s7", 3 0, L_01220CC0; 1 drivers
v0121F958_0 .alias "d_in", 7 0, v01220320_0;
v0121FFE0_0 .alias "d_out", 7 0, v0121FCC8_0;
L_01220638 .part L_012542C0, 4, 4;
L_01220690 .ufunc TD_crypto_tb.uut.dec.INV.inv, 4, L_01220638 (v01215CE8_0) v01215C90_0 S_011E9880;
L_012208A0 .part L_012542C0, 0, 4;
L_01220CC0 .ufunc TD_crypto_tb.uut.dec.INV.inv, 4, L_012208A0 (v01215CE8_0) v01215C90_0 S_011E9880;
L_01220C68 .concat [ 4 4 0 0], L_01220CC0, L_01220690;
S_011E9880 .scope function, "inv" "inv" 3 53, 3 53, S_011E94C8;
 .timescale 0 0;
v01215C90_0 .var "inv", 3 0;
v01215CE8_0 .var "nibble", 3 0;
TD_crypto_tb.uut.dec.INV.inv ;
    %load/v 8, v01215CE8_0, 4;
    %cmpi/u 8, 6, 4;
    %jmp/1 T_1.18, 6;
    %cmpi/u 8, 4, 4;
    %jmp/1 T_1.19, 6;
    %cmpi/u 8, 12, 4;
    %jmp/1 T_1.20, 6;
    %cmpi/u 8, 5, 4;
    %jmp/1 T_1.21, 6;
    %cmpi/u 8, 0, 4;
    %jmp/1 T_1.22, 6;
    %cmpi/u 8, 7, 4;
    %jmp/1 T_1.23, 6;
    %cmpi/u 8, 2, 4;
    %jmp/1 T_1.24, 6;
    %cmpi/u 8, 14, 4;
    %jmp/1 T_1.25, 6;
    %cmpi/u 8, 1, 4;
    %jmp/1 T_1.26, 6;
    %cmpi/u 8, 15, 4;
    %jmp/1 T_1.27, 6;
    %cmpi/u 8, 3, 4;
    %jmp/1 T_1.28, 6;
    %cmpi/u 8, 13, 4;
    %jmp/1 T_1.29, 6;
    %cmpi/u 8, 8, 4;
    %jmp/1 T_1.30, 6;
    %cmpi/u 8, 10, 4;
    %jmp/1 T_1.31, 6;
    %cmpi/u 8, 9, 4;
    %jmp/1 T_1.32, 6;
    %cmpi/u 8, 11, 4;
    %jmp/1 T_1.33, 6;
    %set/v v01215C90_0, 0, 4;
    %jmp T_1.35;
T_1.18 ;
    %set/v v01215C90_0, 0, 4;
    %jmp T_1.35;
T_1.19 ;
    %movi 8, 1, 4;
    %set/v v01215C90_0, 8, 4;
    %jmp T_1.35;
T_1.20 ;
    %movi 8, 2, 4;
    %set/v v01215C90_0, 8, 4;
    %jmp T_1.35;
T_1.21 ;
    %movi 8, 3, 4;
    %set/v v01215C90_0, 8, 4;
    %jmp T_1.35;
T_1.22 ;
    %movi 8, 4, 4;
    %set/v v01215C90_0, 8, 4;
    %jmp T_1.35;
T_1.23 ;
    %movi 8, 5, 4;
    %set/v v01215C90_0, 8, 4;
    %jmp T_1.35;
T_1.24 ;
    %movi 8, 6, 4;
    %set/v v01215C90_0, 8, 4;
    %jmp T_1.35;
T_1.25 ;
    %movi 8, 7, 4;
    %set/v v01215C90_0, 8, 4;
    %jmp T_1.35;
T_1.26 ;
    %movi 8, 8, 4;
    %set/v v01215C90_0, 8, 4;
    %jmp T_1.35;
T_1.27 ;
    %movi 8, 9, 4;
    %set/v v01215C90_0, 8, 4;
    %jmp T_1.35;
T_1.28 ;
    %movi 8, 10, 4;
    %set/v v01215C90_0, 8, 4;
    %jmp T_1.35;
T_1.29 ;
    %movi 8, 11, 4;
    %set/v v01215C90_0, 8, 4;
    %jmp T_1.35;
T_1.30 ;
    %movi 8, 12, 4;
    %set/v v01215C90_0, 8, 4;
    %jmp T_1.35;
T_1.31 ;
    %movi 8, 13, 4;
    %set/v v01215C90_0, 8, 4;
    %jmp T_1.35;
T_1.32 ;
    %movi 8, 14, 4;
    %set/v v01215C90_0, 8, 4;
    %jmp T_1.35;
T_1.33 ;
    %set/v v01215C90_0, 1, 4;
    %jmp T_1.35;
T_1.35 ;
    %end;
    .scope S_011E8A28;
T_2 ;
    %wait E_012132F0;
    %load/v 8, v012206E8_0, 1;
    %jmp/0xz  T_2.0, 8;
    %movi 8, 172, 8;
    %ix/load 0, 8, 0;
    %assign/v0 v01220A00_0, 0, 8;
    %jmp T_2.1;
T_2.0 ;
    %load/v 8, v01220B60_0, 1;
    %jmp/0xz  T_2.2, 8;
    %ix/load 1, 7, 0;
    %mov 4, 0, 1;
    %jmp/1 T_2.4, 4;
    %load/x1p 16, v01220A00_0, 1;
    %jmp T_2.5;
T_2.4 ;
    %mov 16, 2, 1;
T_2.5 ;
; Save base=16 wid=1 in lookaside.
    %ix/load 1, 6, 0;
    %mov 4, 0, 1;
    %jmp/1 T_2.6, 4;
    %load/x1p 17, v01220A00_0, 1;
    %jmp T_2.7;
T_2.6 ;
    %mov 17, 2, 1;
T_2.7 ;
; Save base=17 wid=1 in lookaside.
    %xor 16, 17, 1;
    %ix/load 1, 5, 0;
    %mov 4, 0, 1;
    %jmp/1 T_2.8, 4;
    %load/x1p 17, v01220A00_0, 1;
    %jmp T_2.9;
T_2.8 ;
    %mov 17, 2, 1;
T_2.9 ;
; Save base=17 wid=1 in lookaside.
    %xor 16, 17, 1;
    %ix/load 1, 4, 0;
    %mov 4, 0, 1;
    %jmp/1 T_2.10, 4;
    %load/x1p 17, v01220A00_0, 1;
    %jmp T_2.11;
T_2.10 ;
    %mov 17, 2, 1;
T_2.11 ;
; Save base=17 wid=1 in lookaside.
    %xor 16, 17, 1;
    %ix/load 1, 3, 0;
    %mov 4, 0, 1;
    %jmp/1 T_2.12, 4;
    %load/x1p 17, v01220A00_0, 1;
    %jmp T_2.13;
T_2.12 ;
    %mov 17, 2, 1;
T_2.13 ;
; Save base=17 wid=1 in lookaside.
    %xor 16, 17, 1;
    %mov 8, 16, 1;
    %load/v 9, v01220A00_0, 7; Select 7 out of 8 bits
    %ix/load 0, 8, 0;
    %assign/v0 v01220A00_0, 0, 8;
T_2.2 ;
T_2.1 ;
    %jmp T_2;
    .thread T_2;
    .scope S_011E8A28;
T_3 ;
    %wait E_012132B0;
    %load/v 8, v01220A00_0, 8;
    %set/v v01220BB8_0, 8, 8;
    %jmp T_3;
    .thread T_3, $push;
    .scope S_011E9220;
T_4 ;
    %set/v v012208F8_0, 0, 1;
    %end;
    .thread T_4;
    .scope S_011E9220;
T_5 ;
    %set/v v01220530_0, 0, 1;
    %end;
    .thread T_5;
    .scope S_011E9220;
T_6 ;
    %set/v v01220B08_0, 0, 1;
    %end;
    .thread T_6;
    .scope S_011E9220;
T_7 ;
    %delay 5, 0;
    %load/v 8, v012208F8_0, 1;
    %inv 8, 1;
    %set/v v012208F8_0, 8, 1;
    %jmp T_7;
    .thread T_7;
    .scope S_011E9220;
T_8 ;
    %vpi_call 2 10 "$dumpfile", "crypto.vcd";
    %vpi_call 2 11 "$dumpvars", 1'sb0, S_011E9220;
    %end;
    .thread T_8;
    .scope S_011E9220;
T_9 ;
    %vpi_call 2 14 "$display", "Time\011Plain\011Encrypted\011Decrypted";
    %vpi_call 2 15 "$monitor", "%0dns\011%h\011%h\011\011%h", $time, v012201C0_0, v01220320_0, v01220740_0;
    %end;
    .thread T_9;
    .scope S_011E9220;
T_10 ;
    %set/v v01220530_0, 1, 1;
    %set/v v01220B08_0, 0, 1;
    %set/v v012201C0_0, 0, 8;
    %delay 5, 0;
    %set/v v01220530_0, 0, 1;
    %set/v v01220B08_0, 1, 1;
    %delay 5, 0;
    %movi 8, 165, 8;
    %set/v v012201C0_0, 8, 8;
    %delay 5, 0;
    %movi 8, 60, 8;
    %set/v v012201C0_0, 8, 8;
    %delay 5, 0;
    %set/v v012201C0_0, 1, 8;
    %delay 5, 0;
    %set/v v012201C0_0, 0, 8;
    %delay 5, 0;
    %movi 8, 105, 8;
    %set/v v012201C0_0, 8, 8;
    %delay 10, 0;
    %vpi_call 2 27 "$finish";
    %end;
    .thread T_10;
# The file index is used to find the file name in the following table.
:file_names 4;
    "N/A";
    "<interactive>";
    ".\crypto_tb.v";
    ".\crypto.v";
